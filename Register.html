<!doctype html><html lang=zh-cn><meta charset=utf-8><title>用户注册</title><script src=script4.js></script><script src=script3.js></script><link rel=stylesheet href=styles3.css><script src=script5.js></script><link rel=stylesheet href=styles4.css><script src=script8.js></script><link rel=stylesheet href=styles5.css><link rel=stylesheet href=styles6.css><script src=script9.js></script><script src=script10.js></script><script src=https://hcaptcha.com/1/api.js async defer></script><link href=https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js></script><style>body{font-family:Arial,sans-serif;background-color:#f7f7f7;margin:0;padding:0;overflow:hidden}.container{width:400px;margin:50px auto;padding:30px;background-color:#fff;box-shadow:0 5px 20px #0003;border-radius:20px;position:relative}h2{text-align:center;color:#333}label{display:block;margin-bottom:5px}input[type=text],input[type=email],input[type=password],input[type=verification_code],select,input[type=submit]{width:calc(100% - 22px);padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}input[type=verification_code]{width:65%}input[type=submit]{width:100%;padding:15px;border:none;border-radius:20px;background-color:#5cb85c;color:#fff;cursor:pointer;font-size:16px}input[type=submit]:hover{background-color:#4cae4c}.error{color:red;margin-bottom:10px}.back-button{display:inline-block;padding:5px 10px;color:#5cb85c;text-decoration:none;font-size:16px;cursor:pointer;background-color:#f7f7f7;border:1px solid #ddd;border-radius:20px}.back-button:hover{background-color:#e7e7e7}.verification-code-button{background-color:#4caf50;color:#fff;border:none;padding:8px 15px;margin-left:10px;border-radius:4px;cursor:pointer;font-size:14px}.verification-code-button:disabled{background-color:#ccc;cursor:not-allowed}@keyframes slideUp{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.container{opacity:1;transform:translateY(0%);animation:slideUp .8s ease-out forwards}body.dark-mode{background-color:#1a1a1a;color:#fff}body.dark-mode .container{background-color:#272727;box-shadow:0 5px 20px #ffffff1a}body.dark-mode h2{color:#fff}body.dark-mode label{color:#ddd}body.dark-mode input[type=text],body.dark-mode input[type=email],body.dark-mode input[type=password],body.dark-mode input[type=verification_code],body.dark-mode select{background-color:#333;border-color:#444;color:#fff}body.dark-mode input[type=submit]{background-color:#4caf50;color:#fff}body.dark-mode input[type=submit]:hover{background-color:#45a049}body.dark-mode .error{color:#f55}body.dark-mode .back-button{color:#4caf50;background-color:#333;border-color:#555}body.dark-mode .back-button:hover{color:#45a049;background-color:#303030;border-color:#3c3c3c}body.dark-mode .verification-code-button{background-color:#4caf50;color:#fff}body.dark-mode .verification-code-button:disabled{background-color:#555;color:#999}body.dark-mode select{background-color:#333;color:#fff;border-color:#444}body.dark-mode select option{background-color:#333;color:#fff}</style><script>let lastSendTime=0;let countdown=60;hcaptcha.render('.h-captcha');function validateForm(event){var password=document.getElementById("password").value;var confirmPassword=document.getElementById("confirm_password").value;var verificationCode=document.getElementById("verification_code").value;var username=document.getElementById("username").value;var usernameRegex=/^[\u4E00-\u9FA5A-Za-z0-9]+$/;if(username.length>10){document.getElementById("error_message").innerText="用户名长度不能超过10个字符！";return false;}
if(!usernameRegex.test(username)){document.getElementById("error_message").innerText="用户名只能包含汉字、英文和数字！";return false;}
if(password!==confirmPassword){document.getElementById("error_message").innerText="密码和确认密码不一致！";return false;}
else if(!verificationCode){document.getElementById("error_message").innerText="验证码不能为空！";return false;}
var captchaResponse=hcaptcha.getResponse();if(!captchaResponse){document.getElementById("error_message").innerText="请完成人机验证。";return false;}
event.preventDefault();verifyCode();}
function sendVerificationCode(){const sendButton=document.getElementById("send_code_button");sendButton.disabled=true;sendButton.innerText="正在发送";var email=document.getElementById("email").value;const currentTime=Date.now();if(currentTime-lastSendTime<60000){swal("请1分钟后再尝试发送验证码。",'请1分钟后再尝试发送验证码。','error');return;}
fetch('https://jbcfz.serveo.net/send-verification-code',{method:'POST',headers:{'Content-Type':'application/json',},body:JSON.stringify({email:email})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}
return response.text();}).then(data=>{swal('验证码发送成功',"请查收您的邮箱","success");sendButton.innerText="发送成功";lastSendTime=Date.now();disableSendButton();}).catch(error=>{console.error('Error:',error);sendButton.disabled=false;sendButton.innerText="发送验证码";swal('验证码发送失败','请检查你的邮箱地址，或稍后重试。','error');});}
function disableSendButton(){const sendButton=document.getElementById("send_code_button");sendButton.disabled=true;sendButton.innerText="剩余 "+countdown+" 秒";const intervalId=setInterval(()=>{countdown--;sendButton.innerText="剩余 "+countdown+" 秒";if(countdown===0){clearInterval(intervalId);sendButton.innerText="发送验证码";countdown=60;sendButton.disabled=false;}},1000);}
function verifyCode(){var email=document.getElementById("email").value;var code=document.getElementById("verification_code").value;fetch('https://jbcfz.serveo.net/verify-code',{method:'POST',headers:{'Content-Type':'application/json',},body:JSON.stringify({email:email,code:code})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}
return response.text();}).then(data=>{if(data==='验证码验证成功。'){document.getElementById("registration_form").submit();}else{document.getElementById("error_message").innerText="验证码错误。";}}).catch(error=>{console.error('Error:',error);document.getElementById("error_message").innerText="验证码错误";});}
hcaptcha.on('verify',function(token){document.getElementById("registration_form").submit();});hcaptcha.on('expire',function(){document.getElementById("error_message").innerText="人机验证已过期，请重新验证。";});</script><div class=container><a href=Login.html class=back-button>返回</a><h2>用户注册</h2><form id=registration_form action=https://jbcfz.serveo.net/register method=post onsubmit="return validateForm(event)"><label for=username>用户名:</label>
<input id=username name=username required maxlength=10>
<label for=email>邮箱:</label>
<input type=email id=email name=email required>
<label for=verification_code>验证码:</label>
<input type=verification_code id=verification_code name=verification_code required>
<button type=button id=send_code_button class=verification-code-button onclick=sendVerificationCode()>发送验证码</button>
<label for=password>密码:</label>
<input type=password id=password name=password required>
<label for=confirm_password>确认密码:</label>
<input type=password id=confirm_password name=confirm_password required>
<label for=type>用户类型:</label>
<select id=type name=type required>
<option value=user>普通用户</select><div class=h-captcha data-sitekey=646c3294-ce44-4d5a-a04a-e1603366ea8c></div><div id=error_message class=error></div><input type=submit value=注册></form></div>