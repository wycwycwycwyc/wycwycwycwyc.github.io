!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t(e)}):e.Qmsg=t(e)}(this,function(e){"use strict";function n(){var e,t=a;for(e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function c(e){var o,c,d,u,m,f,p,g,v,b,s=this;s.settings=Object.assign({},t,e||{}),s.id=i.instanceCount,d=s.settings.timeout,d=d&&parseInt(d>=0)&&parseInt(d)<=Math.NEGATIVE_INFINITY?parseInt(d):t.timeout,s.timeout=d,s.settings.timeout=d,s.timer=null,o=document.createElement("div"),g=l[s.settings.type||"info"],f=n("content-"+s.settings.type||"info"),f+=s.settings.showClose?" "+n("content-with-close"):"",p=s.settings.content||"",v=l.close,b=s.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+v+"</i>":"",m=document.createElement("span"),s.settings.html?m.innerHTML=p:m.innerText=p,o.innerHTML='<div class="qmsg-content">            <div class="'+f+'">                <i class="qmsg-icon">'+g+"</i>"+m.outerHTML+b+"</div>		</div>",o.classList.add(n("item")),o.style.textAlign=s.settings.position,c=document.querySelector("."+a),c||(c=document.createElement("div"),c.classList.add(a),c.classList.add(n("wrapper")),c.classList.add(n("is-initialized")),document.body.appendChild(c)),c.appendChild(o),s.$wrapper=c,s.$elem=o,h(s,"opening"),s.settings.showClose&&o.querySelector(".qmsg-icon-close").addEventListener("click",function(){s.close()}.bind(o)),o.addEventListener("animationend",function(e){var t=e.target,n=e.animationName;n===r.closing&&(clearInterval(this.timer),this.destroy()),t.style.animationName=""}.bind(s)),s.settings.autoClose&&(u=10,s.timer=setInterval(function(){this.timeout-=u,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(s),u),s.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(s)),s.$elem.addEventListener("mouseout",function(){"closing"!==this.state&&(this.timer=setInterval(function(){this.timeout-=u,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(s),u))}.bind(s)))}function h(e,t){t&&r[t]&&(e.state=t,e.$elem.style.animationName=r[t])}function m(e){var o=n("count"),i=e.$elem.querySelector('[class^="qmsg-content-"]'),s=i.querySelector("."+o);s||(s=document.createElement("span"),s.classList.add(o),i.appendChild(s)),s.innerHTML=e.count,s.style.animationName="",s.style.animationName="MessageShake",e.timeout=e.settings.timeout||t.timeout}function s(e,n){var s=Object.assign({},t);return 0===arguments.length?s:e instanceof Object?Object.assign(s,e):(s.content=e.toString(),n instanceof Object?Object.assign(s,n):s)}function o(e){var t,n,s,o,i,a,r,l,d,u;e=e||{},i=JSON.stringify(e),a=-1;for(r in this.oMsgs)if(l=this.oMsgs[r],l.config===i){a=r,t=l.inst;break}if(0>a){if(this.instanceCount++,s={},s.id=this.instanceCount,s.config=i,t=new c(e),t.id=this.instanceCount,t.count="",s.inst=t,this.oMsgs[this.instanceCount]=s,d=this.oMsgs.length,u=this.maxNums,d>u)for(n=0,o=this.oMsgs,n;d-u>n;n++)o[n]&&o[n].inst.settings.autoClose&&o[n].inst.close()}else t.count=t.count?t.count>=99?t.count:t.count+1:2,m(t);return t.$elem.setAttribute("data-count",t.count),t}var t,i,a,r,l,d,u;return"function"!=typeof Object.assign&&(Object.assign=function(e){var t,n,s;if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(e=Object(e),n=1;n<arguments.length;n++)if(t=arguments[n],t!=null)for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}),"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(n){var s=e.className.split(/\s+/g),o=s.indexOf(n);t(s,o,n),e.className=s.join(" ")}}var e=this;return{add:t(function(e,t,n){~t||e.push(n)}),remove:t(function(e,t){~t&&e.splice(t,1)}),toggle:t(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(t){return!!~e.className.split(/\s+/g).indexOf(t)},item:function(t){return e.className.split(/\s+/g)[t]||null}}}}),d="qmsg",a=e&&e.QMSG_GLOBALS&&e.QMSG_GLOBALS.NAMESPACE||d,r={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},t=Object.assign({position:"center",type:"info",showClose:!1,timeout:2500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},e&&e.QMSG_GLOBALS&&e.QMSG_GLOBALS.DEFAULTS),l={info:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#909399"/></svg>',warning:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#E6A23C"/></svg>',error:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#F56C6C"/></svg>',success:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#67C23A"/></svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/><path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},u=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),c.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem),clearInterval(this.timer),i.remove(this.id)},c.prototype.close=function(){h(this,"closing"),u?i.remove(this.id):this.destroy();var e=this.settings.onClose;e&&e instanceof Function&&e.call(this)},i={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:t.maxNums||5,config:function(e){t=e&&e instanceof Object?Object.assign(t,e):t,this.maxNums=t.maxNums&&t.maxNums>0?parseInt(t.maxNums):3},info:function(e,t){var n=s(e,t);return n.type="info",o.call(this,n)},warning:function(e,t){var n=s(e,t);return n.type="warning",o.call(this,n)},success:function(e,t){var n=s(e,t);return n.type="success",o.call(this,n)},error:function(e,t){var n=s(e,t);return n.type="error",o.call(this,n)},loading:function(e,t){var n=s(e,t);return n.type="loading",n.autoClose=!1,o.call(this,n)},remove:function(e){this.oMsgs[e]&&delete this.oMsgs[e]},closeAll:function(){for(var e in this.oMsgs)this.oMsgs[e]&&this.oMsgs[e].inst.close()}}})