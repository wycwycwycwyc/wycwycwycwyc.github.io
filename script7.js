document.addEventListener('DOMContentLoaded',function(){var opacitySelect=document.getElementById('opacitySelect');var selectedOpacity=localStorage.getItem('opacity')||'0.3';var isDarkMode=localStorage.getItem('darkMode')==='enabled';if(!opacitySelect){setElementsOpacity(selectedOpacity,isDarkMode);return;}
opacitySelect.value=selectedOpacity;setElementsOpacity(selectedOpacity,isDarkMode);opacitySelect.addEventListener('change',function(){selectedOpacity=opacitySelect.value;localStorage.setItem('opacity',selectedOpacity);setElementsOpacity(selectedOpacity,isDarkMode);});});function setElementsOpacity(opacity,isDarkMode){var elements=document.querySelectorAll('th, table, thead, .bottom-bar, #busuanzi-container, #tips, #time');if(elements.length===0){return;}
elements.forEach(function(element){if(isDarkMode){element.style.backgroundColor=`rgba(16, 16, 16, ${opacity})`;}if(!isDarkMode){element.style.backgroundColor=`rgba(242, 242, 242, ${opacity})`;}});var blurSelect=document.getElementById('blurSelect');var selectedBlur=localStorage.getItem('blur')||'5px';var isDarkMode=localStorage.getItem('darkMode')==='enabled';if(!blurSelect){setElementsBlur(selectedBlur,isDarkMode);return;}
blurSelect.value=selectedBlur.replace('px','');setElementsBlur(selectedBlur,isDarkMode);blurSelect.addEventListener('change',function(){selectedBlur=blurSelect.value+'px';localStorage.setItem('blur',selectedBlur);setElementsBlur(selectedBlur,isDarkMode);});function setElementsBlur(blur,isDarkMode){var elements=document.querySelectorAll('th, table, thead, .bottom-bar, #busuanzi-container, #tips, #time');if(elements.length===0){return;}
elements.forEach(function(element){element.style.backdropFilter=`blur(${blur})`;element.style.webkitBackdropFilter=`blur(${blur})`;});}}